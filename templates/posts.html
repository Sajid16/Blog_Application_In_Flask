{% extends 'base.html' %}

{% block title %}
Blog App|Posts
{% endblock %}

{% block main_content %}

<div class="container">
    <h1>New Post</h1>

    <hr>
    <h2>Create New Blog Post:</h2>
    <form action='/posts/' method='POST'>
        <label for="title">Title:</label>
        <input class="form-control" type="text" name='title' id='title' placeholder="Enter Title"
               aria-label="Enter Title">
        <br>
        <label for="author">Author:</label>
        <input class="form-control" type="text" name='author' id='author' placeholder="Enter Author"
               aria-label="Enter Author">
        <br>
        <label for="content">Post:</label>
        <textarea class="form-control" name='content' id="content" placeholder="Enter Content"
                  aria-label="Enter Content" rows="3"></textarea>
        <br>
        <input style="display:inline" class="btn btn-success float-left" type='submit' value='Post Your Blog Content'>
        <!--        <a style="display:inline" class="btn btn-success float-left" href="/posts">Post Your Blog Content</a>-->
        <br>
        <br>
    </form>
    <hr>

</div>

<br>

<div class="container">
    <div>
        <h1 style="display:inline">All Posts</h1>
<!--        <a style="display:inline" class="btn btn-success float-right" href="/new_posts/">+ New Post</a>-->
    </div>
    <hr>

    {% for post in posts %}
    <h2>{{ post.title }}</h2>
    {% if post.author %}
    <small> Written by <b>{{ post.author }}</b> on <b>{{ post.date_posted }}</b></small>
    {% else %}
    <small> Written by Unknown on {{ post.date_posted }}</small>
    {% endif %}
    <br>
    <br>
    <p style="white-space:pre-wrap">{{ post.content }}</p>
    <br>
    <a class="btn btn-danger" href='/posts/delete/{{post.id}}'>Delete</a>
    <a class="btn btn-primary" href="{{ url_for('update', post_id=post.id) }}">Edit</a>
<!--    <a class="btn btn-danger" href="{{ url_for('delete', post_id=post.id) }}">Delete</a>-->
<!--    <a class="btn btn-primary" href='/posts/edit/{{post.id}}'>Edit</a>-->
    <br>
    <hr>
    <br>
    {% endfor%}

</div>

{% endblock %}